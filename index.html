<!DOCTYPE html>
<html lang="en">
<link>
    <meta charset="UTF-8">
    <title>Waves Node Checker</title>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css"></link>
    <script type="application/javascript" src="bower_components/angular/angular.min.js"></script>
    <script type="application/javascript" src="bower_components/ngstorage/ngStorage.min.js"></script>
    <script type="application/javascript" src="js/app.js"></script>
</head>
<body ng-app="WavesNodeChecker" ng-controller="NodeRegistrationController">

<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Waves Node Checker</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="http://testnet.wavesexplorer.com">Testnet explorer</a></li>
            <li><a href="https://github.com/wavesplatform/Waves/releases">Releases</a></li>
          </ul>
          <ul class="nav navbar-form navbar-right">
            <li>
                <div class="form-group">
                    <input type="text" ng-model="nodeAddress" placeholder="IP node" class="form-control" required>
                </div>
                <div class="form-group">
                    <input type="text" ng-model="nodePort" placeholder="Port" class="form-control" required>
                </div>
                <button class="btn btn-success" ng-click="addNode();">Add node</button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
        <div style="margin-top: 60px" ng-controller="NodeRefreshController">
            <div class="row">
              <div class="col-md-8"><p>Network height: {{masterNodeHeight}}</p></div>
              <div class="col-md-4 text-right"><p>{{note}}</p></div>
            </div>
            <table align="center" class="table table-striped table-hover" ng-controller="NodeCheckController">
                <tr>
                    <th>Address</th>
                    <th>Current height</th>
                    <th>Version</th>
                    <th>Synch status</th>
                    <th>Connected</th>
                    <th>Updated</th>
                    <th></th>
                </tr>
                <tr ng-repeat="node in nodes">
                    <td width="15%">{{ node }}</td>
                    <td width="15%">{{ heights[node] }}</td>
                    <td width="20%">{{ versions[node] }}</td>
                    <td width="15%">{{ syncStatus[node] }}</td>
                    <td width="10%">{{ connected[node] }}</td>
                    <td width="15%">{{ updated[node] }}</td>
                    <td width="10%" class="text-center"><button class="btn btn-danger btn-xs" ng-click="removeNode(node);">X</button></td>
                </tr>
            </table>
        </div>
    </div>
</body>
</html>